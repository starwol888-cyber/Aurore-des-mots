<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Aurore des Mots — Citations & Poèmes Quotidiens</title>

<meta name="description" content="Aurore des Mots t’accompagne chaque jour avec des citations et poèmes originaux, lus à voix haute, pour apaiser l’esprit et nourrir l’âme.">
<meta name="theme-color" content="#0E1A1F">

<style>
/* (CSS inchangé) */
</style>
</head>

<body>
<!-- (HTML inchangé) -->

<script>
const citations=[
  "Tu n’es pas en retard, tu es en chemin. — Anonyme",
  "La douceur est une force silencieuse. — Anonyme",
  "Aujourd’hui suffit. — Proverbe",
  "Même lentement, tu avances. — Anonyme",
  "Ce que tu ressens a le droit d’exister. — Anonyme"
];

const poemes=[
  "Respire.\nLe monde n’attend rien de toi\nsinon ta présence. — Anonyme",
  "La nuit rend\nce que le jour disperse. — Anonyme",
  "Entre deux pensées\nil y a déjà la paix. — Anonyme",
  "Tu continues\nmême quand tu doutes,\net c’est immense. — Anonyme",
  "Le silence\nn’est pas un vide\nmais un refuge. — Anonyme"
];

const typeEl=document.getElementById("typeTexte");
const contenuEl=document.getElementById("contenu");
const citationEl=document.getElementById("citationTexte");
const poemeEl=document.getElementById("poemeTexte");

function afficherTexteMoment(){
  const estCitation=Math.random()<0.5;
  typeEl.textContent=estCitation?"Citation inspirante":"Poème";
  contenuEl.textContent=estCitation
    ?citations[Math.floor(Math.random()*citations.length)]
    :poemes[Math.floor(Math.random()*poemes.length)];
}

function nouveauTexte(){
  speechSynthesis.cancel();
  afficherTexteMoment();
}

function changerCitation(){
  citationEl.textContent=citations[Math.floor(Math.random()*citations.length)];
}

function changerPoeme(){
  poemeEl.textContent=poemes[Math.floor(Math.random()*poemes.length)];
}

/* =========================
   VOIX (CORRIGÉE & FÉMININE)
========================= */

let voixDouce=null;

function chargerVoix(){
  const voix=speechSynthesis.getVoices();

  voixDouce =
    voix.find(v =>
      v.lang === "fr-FR" &&
      (
        v.name.toLowerCase().includes("female") ||
        v.name.toLowerCase().includes("woman") ||
        v.name.toLowerCase().includes("julie") ||
        v.name.toLowerCase().includes("audrey") ||
        v.name.toLowerCase().includes("google")
      )
    ) ||
    voix.find(v => v.lang === "fr-FR") ||
    voix[0];
}

speechSynthesis.onvoiceschanged=chargerVoix;

function lireTexteMoment(){
  parler(contenuEl.textContent);
}

function lireCitation(){
  parler(citationEl.textContent);
}

function lirePoeme(){
  parler(poemeEl.textContent);
}

function parler(texte){
  if(!texte) return;
  if(!voixDouce) chargerVoix();

  const u=new SpeechSynthesisUtterance(texte);
  u.voice=voixDouce;
  u.lang="fr-FR";
  u.rate=0.75;   // plus naturel
  u.pitch=1.15;  // plus féminin
  u.volume=0.9;

  speechSynthesis.cancel();
  speechSynthesis.speak(u);
}

afficherTexteMoment();
changerCitation();
changerPoeme();
</script>

</body>
</html>
